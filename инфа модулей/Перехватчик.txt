ПЕРЕХВАТЧИК — КРАТКАЯ ИНСТРУКЦИЯ ДЛЯ ПОЛЬЗОВАТЕЛЕЙ

Зачем нужен
- Модуль следит за выбранными каналами/чатами (источниками) и **пересылает сообщения с нужными ключевыми словами** в ваши целевые чаты/каналы.
- Удобен для мониторинга акций, новостей, ключевых фраз и авто‑репоста контента.
- Работает параллельно с другими модулями (рассылки, автоответчик и т.д.).

Что умеет
- Подключать несколько источников (доноров):
  - @username, ссылки `https://t.me/...`, ID вида `-1001234567890`.
- Фильтровать сообщения по списку ключевых слов (одно слово/фраза на строку).
- Отправлять подходящие сообщения в один или несколько целевых чатов/каналов.
- Работать в двух режимах:
  - **Обычная пересылка (forward)** — Telegram показывает, откуда переслано сообщение.
  - **Репост (копия + ссылка)** — копирует текст, может заменять фразы по правилам `старое => новое`, и добавляет ссылку на оригинальный пост.
- Отслеживать FloodWait: если Telegram даёт паузу, модуль учитывает минимальную задержку, чтобы не «убивать» аккаунты.
- Показывать в UI:
  - статистику (совпадений / переслано / пропущено / ошибок),
  - статусы аккаунтов,
  - историю перехватов,
  - логи операций в реальном времени.

Как настроить
1) **Источники и триггеры** (левая колонка):
   - В поле «Источники доноры» укажите каналы/чаты, откуда нужно брать сообщения (по одному на строку).
   - В поле «Ключевые слова» перечислите фразы, которые должны срабатывать (по одному на строку).
   - При необходимости включите «Учитывать регистр».
2) **Цели и режим пересылки**:
   - В «Целевые чаты/каналы» укажите, куда пересылать найденные сообщения (по одному на строку).
   - В «Замена слов/фраз» можно задать правила вида `старое => новое` (работают в режиме репоста, когда текст копируется).
   - Выберите режим:
     - «Обычная пересылка (forward)»,
     - либо «Репост (копия + ссылка на оригинал)».
   - При необходимости укажите «Минимальная пауза при FloodWait» (сек) — чтобы при длинном FloodWait не дергать аккаунт слишком часто.
3) **Аккаунты для мониторинга** (правая колонка):
   - Выберите, какие аккаунты будут «слушать» источники.
   - Можно «Выбрать всех» и отфильтровать по задачам/ограничениям.

Как запустить
1) После настройки параметров нажмите кнопку **«Запустить»**.
2) В процессе работы:
   - В блоке **«Статистика»** видны:
     - сколько сообщений совпало по ключевым словам;
     - сколько переслано;
     - сколько пропущено и сколько ошибок.
   - В блоке **«Статусы аккаунтов»** видно состояние каждого аккаунта (active / flood_wait / error / stopped и т.п.).
   - В блоке **«История перехватов»** отображаются последние срабатывания с указанием источника, ключевого слова и статуса.
   - В блоке **«Логи операций»** (под «Подсказками») постоянно крутятся подробные логи работы модуля.
3) Для остановки нажмите **«Остановить»** — статусы обновятся, новые сообщения обрабатываться не будут.

Рекомендации
- Не ставьте слишком много источников на один аккаунт — распределяйте нагрузку между несколькими.
- Следите за FloodWait и ошибками в логах: если аккаунт часто уходит в flood_wait/error, уменьшите количество источников или увеличьте паузы.
- Тщательно подбирайте ключевые слова, чтобы не тянуть лишний спам/мусор в целевые чаты.
- Регулярно проверяйте историю и логи, особенно на старте — это помогает быстро заметить неправильные настройки или проблемы с доступом к каналам.

