═══════════════════════════════════════════════════════════════════════════════
                    РУКОВОДСТВО ПО ИСПОЛЬЗОВАНИЮ МОДУЛЯ
                        "РАССЫЛКА ПО ГРУППАМ"
═══════════════════════════════════════════════════════════════════════════════

📌 ЧТО ЭТО ЗА МОДУЛЬ?
───────────────────────────────────────────────────────────────────────────────
Модуль "Рассылка по группам" позволяет отправлять сообщения в Telegram группы 
и каналы от имени ваших аккаунтов. Вы можете настроить текст сообщений, 
добавить медиафайлы и выбрать, какие аккаунты будут отправлять сообщения.

═══════════════════════════════════════════════════════════════════════════════
📝 ПОДГОТОВКА К РАБОТЕ
═══════════════════════════════════════════════════════════════════════════════

1. УБЕДИТЕСЬ, ЧТО У ВАС ЕСТЬ АКТИВНЫЕ АККАУНТЫ
   ───────────────────────────────────────────────────────────────────────────
   • Перейдите в раздел "Аккаунты" (менеджер аккаунтов)
   • Убедитесь, что у вас есть авторизованные аккаунты (они отображаются 
     в списке "Активные аккаунты")
   • Аккаунты должны быть добавлены в систему и авторизованы

2. ПОДГОТОВЬТЕ СПИСОК ГРУПП/КАНАЛОВ
   ───────────────────────────────────────────────────────────────────────────
   • Соберите ссылки или username групп/каналов, куда хотите отправить сообщения
   • Форматы, которые поддерживаются:
     - @username (например: @my_channel)
     - https://t.me/username (например: https://t.me/my_channel)
     - https://t.me/joinchat/XXXXXXX (пригласительные ссылки)
     - username (без @ и https://)

═══════════════════════════════════════════════════════════════════════════════
🚀 КАК ИСПОЛЬЗОВАТЬ МОДУЛЬ
═══════════════════════════════════════════════════════════════════════════════

ШАГ 1: ВВЕДИТЕ СПИСОК ГРУПП/КАНАЛОВ
──────────────────────────────────────────────────────────────────────────────
В поле "Список групп и каналов" введите ссылки или username, по одной на строку:

Пример:
──────────────────────────────────────────────────────────────────────────────
@my_channel
https://t.me/another_group
@third_channel
example_group
──────────────────────────────────────────────────────────────────────────────

ШАГ 2: СОЗДАЙТЕ СООБЩЕНИЯ ДЛЯ РАССЫЛКИ
──────────────────────────────────────────────────────────────────────────────
• По умолчанию есть одно поле для сообщения
• Вы можете добавить несколько сообщений, нажав кнопку "Добавить сообщение"
• Каждое сообщение может содержать:
  - Текст (с поддержкой форматирования Markdown)
  - Медиафайл (изображение, видео, GIF, документ)

• РОТАЦИЯ СООБЩЕНИЙ:
  Первый аккаунт отправляет первое сообщение, второй - второе и т.д.
  Если сообщений меньше, чем аккаунтов, ротация продолжается с начала.

  Пример:
  - У вас 3 аккаунта и 2 сообщения
  - Аккаунт 1 → Сообщение 1
  - Аккаунт 2 → Сообщение 2
  - Аккаунт 3 → Сообщение 1 (снова с начала)

ШАГ 3: НАСТРОЙТЕ ЗАДЕРЖКИ (ВАЖНО!)
──────────────────────────────────────────────────────────────────────────────
⚠️ ЗАДЕРЖКИ - ЭТО ОЧЕНЬ ВАЖНО! Правильные задержки защищают ваши аккаунты 
   от блокировок Telegram.

📌 ГЛОБАЛЬНАЯ ЗАДЕРЖКА МЕЖДУ ДЕЙСТВИЯМИ
   ───────────────────────────────────────────────────────────────────────────
   Это основная задержка, которая контролирует общий темп работы софта.
   
   • "От (сек)" - минимальная задержка (рекомендуется: 3-10 секунд)
   • "До (сек)" - максимальная задержка (рекомендуется: 5-15 секунд)
   
   Пример:
   - От: 5 сек
   - До: 10 сек
   
   Это означает, что между каждым действием (отправкой сообщения) будет 
   случайная задержка от 5 до 10 секунд. Софт сам выберет случайное значение 
   в этом диапазоне.

   💡 ПОЧЕМУ СЛУЧАЙНАЯ ЗАДЕРЖКА?
      Telegram может определить автоматическую рассылку, если задержки 
      одинаковые. Случайные задержки делают поведение более естественным.

📌 ЗАДЕРЖКА НА АККАУНТ (ОПЦИОНАЛЬНО)
   ───────────────────────────────────────────────────────────────────────────
   Это дополнительная защита для каждого аккаунта отдельно.
   
   • "От (сек)" - минимальная пауза между отправками одного аккаунта
   • "До (сек)" - максимальная пауза между отправками одного аккаунта
   
   Если оставить пустым, будет использоваться автоматическое значение:
   Глобальная задержка × 3
   
   Пример:
   - Глобальная: 5-10 сек
   - Автоматическая задержка на аккаунт: 15-30 сек (5×3 до 10×3)
   
   💡 КОГДА УКАЗЫВАТЬ ВРУЧНУЮ?
      Если вы хотите более строгий контроль над каждым аккаунтом, 
      укажите свои значения. Рекомендуется: 30-90 секунд.

📌 ГИБРИДНАЯ МОДЕЛЬ ЗАДЕРЖЕК
   ───────────────────────────────────────────────────────────────────────────
   Софт учитывает ОБА параметра одновременно:
   • Глобальную задержку между действиями
   • Персональную задержку каждого аккаунта
   
   Аккаунт НЕ отправит сообщение, пока не пройдет:
   ✓ Его персональная задержка И
   ✓ Глобальная задержка между действиями
   
   Это обеспечивает:
   • Равномерную нагрузку на все аккаунты
   • Безопасность каждого аккаунта
   • Естественное поведение системы

ШАГ 4: ВЫБЕРИТЕ РЕЖИМ РАСПРЕДЕЛЕНИЯ АККАУНТОВ
──────────────────────────────────────────────────────────────────────────────
Это определяет, как аккаунты будут распределяться по группам:

1. "Аккаунты по кругу по всем группам" (РЕКОМЕНДУЕТСЯ)
   ───────────────────────────────────────────────────────────────────────────
   Аккаунты работают по очереди, отправляя сообщения во все группы.
   
   📌 ЛОГИКА РАСПРЕДЕЛЕНИЯ С ЦИКЛИЧЕСКИМ СДВИГОМ:
   ───────────────────────────────────────────────────────────────────────────
   Система использует умную логику сдвига, которая гарантирует, что ВСЕ 
   аккаунты участвуют во ВСЕХ группах равномерно.
   
   Как это работает:
   • После каждого полного цикла рассылки применяется сдвиг к распределению групп
   • Это означает, что аккаунты не привязаны жестко к определенным группам
   • Каждый аккаунт побывает в каждой группе одинаковое количество раз
   
   Пример с 4 аккаунтами и 2 группами:
   ───────────────────────────────────────────────────────────────────────────
   Цикл 1:
   • Аккаунт A → Группа 1
   • Аккаунт B → Группа 2
   • Аккаунт C → Группа 1
   • Аккаунт D → Группа 2
   
   Цикл 2 (сдвиг применен):
   • Аккаунт A → Группа 2  ← теперь в другой группе!
   • Аккаунт B → Группа 1  ← теперь в другой группе!
   • Аккаунт C → Группа 2
   • Аккаунт D → Группа 1
   
   Цикл 3:
   • Возврат к паттерну цикла 1 (циклическое повторение)
   
   Пример с 8 аккаунтами и 5 группами:
   ───────────────────────────────────────────────────────────────────────────
   • Цикл 1: аккаунты распределяются по группам 0, 1, 2, 3, 4
   • Цикл 2: аккаунты распределяются по группам 1, 2, 3, 4, 0 (сдвиг +1)
   • Цикл 3: аккаунты распределяются по группам 2, 3, 4, 0, 1 (сдвиг +2)
   • Цикл 4: аккаунты распределяются по группам 3, 4, 0, 1, 2 (сдвиг +3)
   • Цикл 5: аккаунты распределяются по группам 4, 0, 1, 2, 3 (сдвиг +4)
   • Цикл 6: возврат к паттерну цикла 1
   
   ✅ Преимущества:
   • Равномерное участие всех аккаунтов во всех группах
   • Меньше риска "засвета" одних и тех же аккаунтов в одних группах
   • Естественное распределение нагрузки
   • Предсказуемая и контролируемая логика

2. "Один аккаунт → все группы"
   ───────────────────────────────────────────────────────────────────────────
   Первый аккаунт отправляет во все группы, затем второй и т.д.
   
   Пример:
   - Аккаунт 1 → Группы 1, 2, 3, 4, 5
   - Аккаунт 2 → Группы 1, 2, 3, 4, 5
   - ...
   
   ⚠️ Используйте осторожно: один аккаунт получает большую нагрузку

3. "Все аккаунты → одна группа"
   ───────────────────────────────────────────────────────────────────────────
   Все аккаунты отправляют в первую группу, затем во вторую и т.д.
   
   Пример:
   - Аккаунты 1, 2, 3 → Группа 1
   - Аккаунты 1, 2, 3 → Группа 2
   - ...
   
   ⚠️ Используйте осторожно: группа получает много сообщений сразу

4. "1 аккаунт = 1 группа (фикс)"
   ───────────────────────────────────────────────────────────────────────────
   Каждый аккаунт закрепляется за одной группой.
   
   Пример:
   - Аккаунт 1 → Группа 1
   - Аккаунт 2 → Группа 2
   - Аккаунт 3 → Группа 3
   
   ✅ Преимущества: четкое распределение, предсказуемость

ШАГ 5: ВЫБЕРИТЕ АККАУНТЫ
──────────────────────────────────────────────────────────────────────────────
В правой панели вы увидите список "Активные аккаунты":
• Отметьте галочками аккаунты, которые будут участвовать в рассылке
• Можно выбрать всех или только нужные
• Используйте Shift+клик для выбора диапазона аккаунтов

ШАГ 6: ЗАПУСТИТЕ РАССЫЛКУ
──────────────────────────────────────────────────────────────────────────────
• Нажмите кнопку "Начать рассылку"
• В правой панели вы увидите:
  - Статус рассылки
  - Прогресс (сколько отправлено)
  - Количество ошибок
• Рассылку можно остановить кнопкой "Остановить рассылку"

═══════════════════════════════════════════════════════════════════════════════
⚠️ ВАЖНЫЕ РЕКОМЕНДАЦИИ ПО ЗАДЕРЖКАМ
═══════════════════════════════════════════════════════════════════════════════

🎯 ДЛЯ НАЧИНАЮЩИХ:
   • Глобальная задержка: 5-10 секунд
   • Задержка на аккаунт: оставить пустым (автоматически)
   • Режим: "Аккаунты по кругу по всем группам"

🎯 ДЛЯ ОПЫТНЫХ:
   • Глобальная задержка: 3-8 секунд (если уверены в аккаунтах)
   • Задержка на аккаунт: 20-60 секунд (для дополнительной защиты)
   • Режим: выбирайте в зависимости от задачи

🎯 ДЛЯ БОЛЬШИХ ОБЪЕМОВ (100+ групп):
   • Глобальная задержка: 7-15 секунд
   • Задержка на аккаунт: 40-90 секунд
   • Используйте больше аккаунтов для распределения нагрузки

🚫 ЧТО НЕ ДЕЛАТЬ:
   • Не ставьте задержки меньше 2 секунд - это риск блокировки
   • Не отправляйте слишком много сообщений одним аккаунтом подряд
   • Не игнорируйте предупреждения системы

═══════════════════════════════════════════════════════════════════════════════
❓ ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ
═══════════════════════════════════════════════════════════════════════════════

В: Почему задержки случайные, а не фиксированные?
О: Telegram может определить автоматическую рассылку по одинаковым задержкам.
   Случайные задержки делают поведение более естественным и безопасным.

В: Что будет, если я оставлю "Задержку на аккаунт" пустой?
О: Система автоматически установит значение: Глобальная задержка × 3.
   Это безопасное значение по умолчанию.

В: Можно ли использовать один аккаунт для всех групп?
О: Технически да, но это рискованно. Telegram может заблокировать аккаунт
   за слишком активную рассылку. Рекомендуется использовать несколько аккаунтов.

В: Что делать, если появились ошибки?
О: Проверьте:
   • Правильность ссылок на группы/каналы
   • Авторизованы ли аккаунты
   • Есть ли у аккаунтов доступ к группам
   • Не слишком ли маленькие задержки

В: Как понять, что задержки правильные?
О: Если рассылка проходит без ошибок и аккаунты не блокируются - 
   задержки подобраны правильно. Если появляются блокировки - увеличьте задержки.

═══════════════════════════════════════════════════════════════════════════════
✅ ПРОВЕРКА ПЕРЕД ЗАПУСКОМ
═══════════════════════════════════════════════════════════════════════════════

Перед запуском рассылки убедитесь:

☑ У вас есть активные авторизованные аккаунты
☑ Список групп/каналов заполнен правильно
☑ Создано хотя бы одно сообщение
☑ Задержки настроены (рекомендуется 5-10 сек для глобальной)
☑ Выбраны аккаунты для рассылки
☑ Вы понимаете, какой режим распределения выбран

═══════════════════════════════════════════════════════════════════════════════
📞 ПОДДЕРЖКА
═══════════════════════════════════════════════════════════════════════════════

Если у вас возникли проблемы:
1. Проверьте логи в разделе "Логи"
2. Убедитесь, что все настройки указаны правильно
3. Попробуйте увеличить задержки
4. Проверьте, что аккаунты авторизованы и имеют доступ к группам

═══════════════════════════════════════════════════════════════════════════════
                        УДАЧНОЙ РАССЫЛКИ! 🚀
═══════════════════════════════════════════════════════════════════════════════
