МОДУЛЬ «КЛОНЕР КАНАЛОВ» – ИНСТРУКЦИЯ ДЛЯ ПОЛЬЗОВАТЕЛЕЙ
----------------------------------------------------

1. НАЗНАЧЕНИЕ МОДУЛЯ
Модуль «Клонер каналов» автоматически копирует посты из одного или нескольких Telegram‑каналов
в ваши целевые каналы:
- можно клонировать историю (последние N сообщений);
- можно пересылать только новые посты в режиме «живого зеркала»;
- поддерживаются как публичные, так и частные каналы (через инвайт‑ссылки);
- есть фильтрация ссылок, стоп‑фразы, автограф и уникализация текста через ChatGPT.


2. ТРЕБОВАНИЯ К АККАУНТУ
- Аккаунт, выбранный в модуле, должен:
  - иметь доступ ко всем каналам‑источникам (быть участником/подписчиком);
  - быть **администратором** во всех целевых каналах (с правом публикации).
- Для частных каналов используйте пригласительные ссылки вида `https://t.me/+hash`
  или `https://t.me/joinchat/hash`.


3. ОСНОВНЫЕ НАСТРОЙКИ

3.1. Выбор аккаунта
- В левой части модуля выберите аккаунт, от имени которого будут читаться источники и
  публиковаться посты в целевые каналы.

3.2. Каналы‑источники
- Указывайте по одному источнику на строку:
  - `@username` публичного канала,
  - или полную ссылку вида `https://t.me/username`,
  - или приватную инвайт‑ссылку вида `https://t.me/+hash`.
- Можно указывать несколько источников – модуль будет забирать посты из каждого.

3.3. Целевые каналы
- В поле «Целевые каналы» также указывается список:
  - `@username` или ссылка на каждый целевой канал (один на строку или через запятую).
- Все новые посты из источников будут публиковаться во все указанные целевые каналы.

3.4. История, сообщений
- Поле «История, сообщений» определяет, нужно ли копировать старые посты:
  - **0** – клонер НЕ трогает старые сообщения, работает только с НОВЫМИ постами (режим «зеркало»).
  - **> 0** – клонер сначала копирует последние N сообщений из каждого источника, а затем
    продолжает слежение за новыми постами.

3.5. Задержка, сек
- Пауза между отправками постов в целевые каналы.
- Рекомендуется ставить **не слишком маленькое значение**, чтобы избежать FloodWait от Telegram,
  особенно если источников/целевых много.

3.6. Дополнительные опции
- **«Не копировать скрытые ссылки в словах»** – убирает встроенные ссылки из текста (когда ссылка
  «спрятана» за словом).
- **«Не копировать медиафайлы с каналов‑источников»** – если включено, клонер перенесёт только текст
  (без фотографий/видео/документов с источников).
- **«Добавлять к каждому посту свой медиафайл»**:
  - разместите медиафайлы в папку `uploads/cloner_custom_media`;
  - если файл один – будет использоваться для всех постов;
  - если файлов несколько – клонер будет брать их по кругу.

3.7. Уникализация текста (ChatGPT)
- Если включить «Уникализировать текст с помощью ChatGPT»:
  - нужно указать API‑ключ и выбрать модель;
  - текст поста будет переработан ИИ перед публикацией;
  - важно: при уникализации исходные ссылки из поста могут пропасть или измениться.

3.8. Стоп‑фразы и автограф
- **Стоп‑фразы**:
  - каждая строка – отдельная фраза;
  - строки, содержащие эти слова/фразы, будут вырезаны из текста поста;
  - удобно для удаления рекламных блоков типа «подпишись на источник».
- **Автограф**:
  - текст, который будет добавляться к каждому посту в конце;
  - поддерживает Telegram Markdown (жирный, курсив, ссылки и т.п.).


4. КАК РАБОТАТЬ (ШАГИ)
1) Выберите аккаунт для клонера.
2) Укажите один или несколько каналов‑источников (юзернеймы или ссылки).
3) Укажите один или несколько целевых каналов.
4) Задайте:
   - «История, сообщений» – 0 (только новые) или количество последних постов для копирования.
   - «Задержка, сек» – комфортную паузу между отправками.
5) При необходимости включите:
   - удаление скрытых ссылок;
   - запрет на копирование медиа;
   - пользовательские медиа;
   - уникализацию через ChatGPT;
   - стоп‑фразы и автограф.
6) Нажмите «Запустить».
7) Наблюдайте:
   - блок «Текущий статус» – состояние, счётчики «Скопировано» и «Ошибок»;
   - блок «История запусков» – итоги прошлых запусков;
   - блок «Логи операций» – подробные события (запуск, подключение, копирование, ошибки).
8) При необходимости нажмите «Остановить», чтобы аккуратно остановить клонер.


5. ЛОГИ И СТАТУС
- **Текущий статус**:
  - показывает, работает ли модуль сейчас;
  - выбранный аккаунт, источники, целевые каналы;
  - сколько сообщений уже скопировано и сколько ошибок.
- **История запусков**:
  - список последних запусков с указанием времени, аккаунта, источников, цели, количества
    скопированных постов и ошибок.
- **Логи операций**:
  - отдельный блок с потоковыми логами;
  - видно подключение к Telegram, FloodWait, пропуск каналов без доступа, ошибки отправки и т.п.
- Если вы обновите страницу во время работы клонера, состояние (кнопки, поля формы, статус и логи)
  будет автоматически восстановлено.


6. РЕКОМЕНДАЦИИ
- Для копирования большой истории по крупным каналам не ставьте слишком большое значение в «История, сообщений»
  за один запуск – лучше разбить на несколько запусков с меньшим количеством.
- Следите за FloodWait:
  - если в логах часто появляются задержки и предупреждения, увеличьте «Задержку, сек».
- Не запускайте агрессивные модули (рассылки, инвайты, клонер с маленькой задержкой) на одном и том же аккаунте
  одновременно – Telegram может начать чаще выдавать ограничения.
- Для приватных каналов всегда проверяйте, что инвайт‑ссылка актуальна и аккаунт имеет к ним доступ.


7. ПАРАЛЛЕЛЬНАЯ РАБОТА
- Модуль «Клонер каналов» работает от **одного выбранного аккаунта**.
- Проект в целом поддерживает работу нескольких модулей параллельно (для разных аккаунтов), но:
  - безопаснее использовать **разные аккаунты** для тяжёлых задач (клонер, рассылки, инвайты);
  - если вы запускаете несколько модулей на одном аккаунте, учитывайте риск FloodWait и ограничений
    со стороны Telegram.

