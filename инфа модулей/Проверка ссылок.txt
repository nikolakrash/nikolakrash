═══════════════════════════════════════════════════════════════
  МОДУЛЬ: ПРОВЕРКА TELEGRAM-ССЫЛОК
═══════════════════════════════════════════════════════════════

📋 НАЗНАЧЕНИЕ
───────────────────────────────────────────────────────────────
Модуль проверяет валидность Telegram-ссылок через HTTP-запросы
и анализ HTML-страниц без авторизации аккаунта.

✅ Работает полностью автоматически, БЕЗ аккаунтов Telegram.
✅ Определяет тип объекта (User, Bot, Channel, Group).
✅ Определяет доступность (Публичная/Приватная).
✅ Формирует детальный CSV-отчет.

═══════════════════════════════════════════════════════════════
  ФУНКЦИИ И ВОЗМОЖНОСТИ
═══════════════════════════════════════════════════════════════

1. ВВОД ДАННЫХ
───────────────────────────────────────────────────────────────
   • Загрузка файла (.txt или .csv)
   • Вставка списка в текстовое поле
   
   Поддерживаемые форматы ссылок:
   - t.me/username
   - https://t.me/username
   - http://t.me/username
   - telegram.me/username
   - t.me/+hash (приватные ссылки)
   - t.me/joinchat/AAAA... (приватные группы)
   - t.me/c/1234567890/123 (посты из каналов)
   
   ⚠️ Можно вставлять ссылки с http/https или без.

2. ПРОВЕРКА ССЫЛОК
───────────────────────────────────────────────────────────────

   Модуль выполняет:
   1. Нормализация ссылок
      • Приведение всех форматов к единому виду
      • Удаление дубликатов
   
   2. HTTP-запрос к Telegram
      • Отправка GET-запроса на https://t.me/...
      • Анализ HTML-страницы
      • Проверка статуса ответа (200, 404, 500)
   
   3. Анализ содержимого
      • Поиск маркеров валидности в HTML
      • Определение типа объекта
      • Определение доступности (публичная/приватная)
   
   4. Определение типа объекта
      • User — пользователь
      • Bot — бот
      • Channel — канал
      • Group — группа

3. СТАТУСЫ ПРОВЕРКИ
───────────────────────────────────────────────────────────────

   ✅ Валидная
      • Ссылка существует и доступна
      • Объект найден в Telegram
      • HTML-страница содержит корректные данные
   
   ❌ Невалидная
      • Ссылка не существует (404)
      • Объект удален или недоступен
      • Неверный формат ссылки
      • Ошибка сервера (500+)
      • Ссылка указывает на контакт-заглушку без публичных данных

4. ТИПЫ ОБЪЕКТОВ
───────────────────────────────────────────────────────────────

   👤 User
      • Обычный пользователь Telegram
      • Определяется по отсутствию маркеров канала/группы/бота
   
   🤖 Bot
      • Telegram-бот
      • Определяется по наличию "bot" в username или маркерам бота
   
   📢 Channel
      • Канал (публичный или приватный)
      • Определяется по наличию слова "subscribers" (подписчики)
   
   👥 Group
      • Группа (публичная или приватная)
      • Определяется по наличию слова "members" (участники)

5. ДОСТУПНОСТЬ
───────────────────────────────────────────────────────────────

   🌐 Публичная
      • Ссылка доступна без авторизации
      • Можно открыть в браузере
      • Примеры: t.me/username, t.me/channelname
   
   🔒 Приватная
      • Требуется авторизация или приглашение
      • Нельзя открыть без доступа
      • Примеры: t.me/+hash, t.me/joinchat/AAAA...

═══════════════════════════════════════════════════════════════
  ПРОЦЕСС РАБОТЫ
═══════════════════════════════════════════════════════════════

1. Загрузите список ссылок (файл или вставьте текст)
2. Нажмите "Проверить ссылки"
3. Дождитесь завершения проверки

📊 После проверки отображается статистика:
   • Всего (количество проверенных ссылок)
   • Валидные (количество валидных ссылок)
   • Невалидные (количество невалидных ссылок)
   • Дубли (количество дубликатов, которые были пропущены)

📋 Результаты отображаются в таблице:
   • Ссылка (исходная ссылка)
   • Статус (Валидная/Невалидная)
   • Тип (User/Bot/Channel/Group)
   • Доступ (Публичная/Приватная)

📥 После завершения доступен:
   • Скачать CSV-отчет (детальный отчет со всеми данными)

═══════════════════════════════════════════════════════════════
  ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ
═══════════════════════════════════════════════════════════════

ПРИМЕР 1: Проверка пользователей
───────────────────────────────────────────────────────────────
Входные данные:
t.me/username1
https://t.me/username2
t.me/username3

Результат:
✅ t.me/username1 — Валидная, User, Публичная
✅ https://t.me/username2 — Валидная, User, Публичная
❌ t.me/username3 — Невалидная, —, Публичная

ПРИМЕР 2: Проверка каналов и групп
───────────────────────────────────────────────────────────────
Входные данные:
t.me/channel_name
t.me/group_name
t.me/joinchat/AAAA...

Результат:
✅ t.me/channel_name — Валидная, Channel, Публичная
✅ t.me/group_name — Валидная, Group, Публичная
✅ t.me/joinchat/AAAA... — Валидная, Group, Приватная

ПРИМЕР 3: Проверка ботов
───────────────────────────────────────────────────────────────
Входные данные:
t.me/my_bot
t.me/anotherbot

Результат:
✅ t.me/my_bot — Валидная, Bot, Публичная
✅ t.me/anotherbot — Валидная, Bot, Публичная

═══════════════════════════════════════════════════════════════
  ОТЧЕТ
═══════════════════════════════════════════════════════════════

📊 CSV файл содержит:
   • Ссылка — исходная ссылка
   • Статус — Валидная/Невалидная
   • Тип — User/Bot/Channel/Group
   • Доступ — Публичная/Приватная

   Формат: CSV (разделитель — запятая)
   Кодировка: UTF-8
   Готов к открытию в Excel, Google Sheets и т.д.

═══════════════════════════════════════════════════════════════
  ОСОБЕННОСТИ РАБОТЫ
═══════════════════════════════════════════════════════════════

✅ АВТОМАТИЧЕСКАЯ НОРМАЛИЗАЦИЯ
   • Все форматы ссылок приводятся к единому виду
   • Поддержка http/https и без протокола
   • Автоматическое удаление дубликатов

✅ ПРОВЕРКА БЕЗ АВТОРИЗАЦИИ
   • Работает через обычные HTTP-запросы
   • Не требует аккаунтов Telegram
   • Не требует авторизации в Telegram

✅ ДЕТЕКТИРОВАНИЕ ТИПА
   • Автоматическое определение типа объекта
   • Анализ HTML-структуры страницы
   • Поиск специфичных маркеров для каждого типа

✅ ОБРАБОТКА ОШИБОК
   • Обработка сетевых ошибок
   • Обработка таймаутов (12 секунд)
   • Определение невалидных ссылок по различным признакам

✅ ПРОИЗВОДИТЕЛЬНОСТЬ
   • Быстрая проверка (зависит от количества ссылок)
   • Параллельная обработка не требуется
   • Оптимизированные HTTP-запросы

═══════════════════════════════════════════════════════════════
  ВАЖНЫЕ ЗАМЕЧАНИЯ
═══════════════════════════════════════════════════════════════

✅ ПРЕИМУЩЕСТВА
   • Работает без аккаунтов Telegram
   • Быстрая проверка больших списков
   • Детальная информация о каждой ссылке
   • Автоматическое определение типа объекта

⚠️ ОГРАНИЧЕНИЯ
   • Проверка только публичных данных
   • Приватные ссылки могут показывать "Валидная" без деталей
   • Зависит от доступности t.me
   • Не проверяет реальную активность объекта

💡 РЕКОМЕНДАЦИИ
   • Используйте для валидации баз перед рассылками
   • Подходит для очистки баз от невалидных ссылок
   • Можно использовать для категоризации ссылок по типам
   • Идеально для подготовки списков для других модулей

═══════════════════════════════════════════════════════════════
  ТЕХНИЧЕСКИЕ ДЕТАЛИ
═══════════════════════════════════════════════════════════════

🔧 МЕТОД ПРОВЕРКИ
   • HTTP GET-запрос к https://t.me/{normalized}
   • Таймаут: 12 секунд
   • User-Agent: Mozilla/5.0 (Chrome)
   • Анализ HTML-структуры страницы

🔍 КРИТЕРИИ ВАЛИДНОСТИ
   • HTTP статус 200
   • Наличие маркеров валидной страницы в HTML
   • Отсутствие маркеров ошибки (404, not found)
   • Для публичных ссылок — наличие публичных данных

🔍 КРИТЕРИИ ТИПА ОБЪЕКТА
   • Bot: наличие "bot" в username или маркеры бота
   • Channel: наличие слова "subscribers" в описании
   • Group: наличие слова "members" в описании
   • User: отсутствие маркеров других типов

═══════════════════════════════════════════════════════════════
