МОДУЛЬ «КЛОНЕР ЧАТОВ» – ИНСТРУКЦИЯ ДЛЯ ПОЛЬЗОВАТЕЛЕЙ
---------------------------------------------------

1. НАЗНАЧЕНИЕ МОДУЛЯ
Модуль «Клонер чатов» копирует диалог из одного чата‑источника в другой чат‑назначение:
- читает сообщения из исходного чата;
- отправляет их заново от выбранных вами аккаунтов‑участников;
- имитирует живое общение между участниками (переписка, ответы, обсуждение);
- может копировать историю и/или только новые сообщения.

Подходит для создания «зеркала» приватного/рабочего чата, переноса активности или прогрева аудитории.


2. ТИПЫ ЧАТОВ И ТРЕБОВАНИЯ
- Поддерживаются:
  - приватные и публичные супергруппы / чаты;
  - чаты с инвайт‑ссылками вида `https://t.me/+hash` или `https://t.me/joinchat/hash`.
- Все задействованные аккаунты должны:
  - иметь доступ к чату‑источнику;
  - иметь доступ к чату‑назначению (быть участниками, а при необходимости – иметь право писать сообщения).


3. РОЛИ АККАУНТОВ
- **Читатель (reader)**:
  - аккаунт, который читает сообщения из исходного чата;
  - сам не пишет в целевой чат (используется только для чтения).
- **Отправители (senders)**:
  - аккаунты, которые будут «разыгрывать» диалог в целевом чате;
  - сообщения будут отправляться от их имени.

Важно: все перечисленные аккаунты должны быть заранее добавлены и в исходный, и в целевой чат.


4. ОСНОВНЫЕ НАСТРОЙКИ

4.1. Аккаунт‑читатель
- В блоке выбора аккаунтов слева выберите **один** аккаунт как «Читателя».
- Он будет использоваться для чтения истории и отслеживания новых сообщений в исходном чате.

4.2. Аккаунты‑участники (отправители)
- Ниже выберите **несколько аккаунтов**, которые будут писать сообщения в целевой чат.
- Эти аккаунты будут по очереди «озвучивать» реплики из исходного диалога.

4.3. Чат‑источник и чат‑назначение
- Введите:
  - «Чат‑источник» – ссылка или юзернейм исходного чата (например, `https://t.me/имя` или `@username`, либо инвайт‑ссылка);
  - «Чат назначения» – ссылка или юзернейм целевого чата.

4.4. История, сообщений
- Указывает, сколько предыдущих сообщений взять из истории:
  - **0** – история НЕ копируется, будут пересылаться только НОВЫЕ сообщения, приходящие после запуска.
  - **> 0** – клонер сначала копирует последние N сообщений истории, затем продолжает зеркалировать новые.

4.5. Задержка между сообщениями
- Пауза (в секундах) между отправкой сообщений в целевой чат.
- Чем больше задержка, тем аккуратнее нагрузка и меньше риск FloodWait/ограничений со стороны Telegram.

4.6. Опции «Добавлять имя исходного автора» и «Добавлять время отправки»
- **Добавлять имя исходного автора** (по умолчанию ВЫКЛ):
  - если включить, в тексте сообщения будет явно указано имя/ник автора из исходного чата;
  - полезно, если нужно видеть, кто что писал в оригинальном диалоге.
- **Добавлять время отправки**:
  - если включить, в сообщение добавляется информация о времени исходной отправки;
  - полезно для сохранения хронологии.


5. ПОРЯДОК РАБОТЫ (ШАГ ЗА ШАГОМ)
1) Откройте модуль «Клонер чатов» в веб‑интерфейсе.
2) В блоке аккаунтов:
   - выберите один аккаунт как Читателя;
   - выберите один или несколько аккаунтов как Отправителей.
3) Укажите:
   - чат‑источник (откуда читать сообщения);
   - чат назначения (куда переносить диалог).
4) Введите:
   - «История, сообщений» – сколько последних сообщений истории нужно перенести (или 0 для только новых);
   - «Задержка между сообщениями» – безопасную паузу.
5) По желанию настройте:
   - добавление имени исходного автора;
   - добавление времени отправки.
6) Нажмите кнопку **«Запустить клонер чатов»**.
7) Наблюдайте:
   - в блоке «Текущий статус» – состояние, счётчики скопированных сообщений и ошибок;
   - в «Истории запусков» – итог по каждому запуску;
   - в «Логах операций» – подробный ход работы (подключение, копирование, ошибки).
8) Для остановки нажмите **«Остановить»** и подождите несколько секунд, пока клонер корректно завершит работу.


6. ЛОГИ И СТАТИСТИКА
- **Текущий статус**:
  - показывает, запущен ли клонер, какие аккаунты задействованы, какие чаты используются;
  - отображает количество скопированных сообщений и количество ошибок.
- **История запусков**:
  - список последних запусков, где видно, какой чат клонировался, какими аккаунтами и с каким результатом.
- **Логи операций**:
  - отдельный блок с потоковыми логами, где видно:
    - запуск и остановку модуля;
    - подключение к чатам;
    - ошибки доступа или отправки сообщений;
    - FloodWait и другие важные события.
- При обновлении страницы (F5) модуль продолжает работу на сервере, а интерфейс подтягивает актуальное
  состояние (кнопки, поля, статус и логи восстанавливаются автоматически).


7. РЕКОМЕНДАЦИИ ПО БЕЗОПАСНОСТИ
- Не ставьте слишком маленькую задержку между сообщениями, особенно если в диалоге много коротких реплик.
- Не используйте одни и те же аккаунты одновременно в агрессивных модулях (рассылки, инвайты, прогрев и т.п.)
  и в клонере чатов – лучше разделяйте роли по аккаунтам.
- Следите за логами:
  - если по какому‑то аккаунту постоянно идут ошибки, исключите его из списка отправителей и проверьте отдельно.
- При клонировании приватных чатов следите за актуальностью инвайт‑ссылок и правами аккаунтов.


8. ПАРАЛЛЕЛЬНАЯ РАБОТА
- Модуль использует несколько аккаунтов одновременно (1 читатель + несколько отправителей) и рассчитан
  на параллельную работу в рамках этих аккаунтов.
- В целом проект поддерживает параллельные модули, но:
  - старайтесь не перегружать один и тот же аккаунт большим количеством задач;
  - для надёжности распределяйте разные модули по разным аккаунтам.

